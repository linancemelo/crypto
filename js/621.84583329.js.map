{"version":3,"file":"js/621.84583329.js","mappings":"gKAGA,MAAMA,GAASC,EAAAA,EAAAA,KAEf,QAAeC,EAAAA,EAAAA,IAAY,kBAAmB,CAC5CC,MAAO,KAAM,CACXC,SAAU,KAEZC,QAAS,CAEPC,WAAaH,IACX,MAAMI,EAAWJ,EAAMC,SAASI,QAAQC,GAAwB,SAAlBA,EAAEC,EAAEC,OAAO,KASzD,OARAJ,EAASK,SAASH,IAEhB,MAAMI,EAAUJ,EAAEK,GAAKL,EAAEM,EACzBN,EAAEI,QAAUA,EAEZ,MAAMG,GAA+B,KAAbP,EAAEM,EAAIN,EAAEQ,GAAWR,EAAEQ,GAAGC,QAAQ,GACxDT,EAAEO,cAAgBA,CAAlB,IAEKT,CAAP,EAGFY,WACE,MAAMZ,EAAW,IAAIa,KAAKd,YACvBe,MAAK,CAACC,EAAGC,IAAeA,EAAEV,QAAUS,EAAET,UACtCF,MAAM,EAAG,KAIZ,OAHAJ,EAASK,SAAQ,CAACH,EAAGe,KACnBf,EAAEgB,QAAUD,EAAQ,CAApB,IAEKjB,CACR,EAWDmB,WACE,OAAON,KAAKD,SAASR,MAAM,EAAG,GAC/B,GAEHgB,QAAS,CACPC,UACE5B,EAAO6B,WAAY,EACnB,MAAMC,EAAa,oFACnBC,IAAAA,IAAUD,GAAYE,MAAMC,IAE1Bb,KAAKhB,SAAW6B,EAAIC,KAAKA,KACzBlC,EAAO6B,WAAY,CAAnB,GAEH,I,4HCvDHM,EAAAA,EAAAA,IAEK,0BADHA,EAAAA,EAAAA,IAAkDC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAA3BC,EAAAA,UAAQ,CAAnB7B,EAAG8B,M,WAAfJ,EAAAA,EAAAA,IAAkD,MAAhBI,IAAKA,GAAK,QAA5C,O,mCAQJ,GACEC,QACE,MAAMC,GAAaC,EAAAA,EAAAA,MACb,SAAEvB,IAAawB,EAAAA,EAAAA,IAAYF,IAC3B,QAAEb,GAAYa,EACpBA,EAAWb,UACX,MAAMgB,GAAWC,EAAAA,EAAAA,IAAI,IAIrB,OAHAC,YAAW,KACTF,EAASG,MAAQ,IAAI5B,EAAS4B,OAAOC,MAAMvC,GAAc,QAARA,EAAEc,GAAnD,GACC,KACI,CACLkB,aAAYtB,WAAUS,UAASgB,WAEnC,G,UClBF,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vue3_crypto/./src/stores/cryptoStore.js","webpack://vue3_crypto/./src/views/front/Test.vue","webpack://vue3_crypto/./src/views/front/Test.vue?6bc0"],"sourcesContent":["import { defineStore } from 'pinia'\nimport axios from 'axios'\nimport statusStore from './statusStore'\nconst status = statusStore()\n\nexport default defineStore('crypto-datalist', {\n  state: () => ({\n    dataList: []\n  }),\n  getters: {\n    // 篩選出USDT幣\n    cryptoUSDT: (state) => {\n      const tempList = state.dataList.filter((i) => i.s.slice(-4) === 'USDT')\n      tempList.forEach((i) => {\n        // 計算並寫入總市值\n        const totalMC = i.cs * i.c\n        i.totalMC = totalMC\n        // 計算並寫入價格變動百分比\n        const percentChange = ((i.c - i.o) * 100 / i.o).toFixed(2)\n        i.percentChange = percentChange\n      })\n      return tempList\n    },\n    // 以市值排序取出前200大\n    sortData () {\n      const tempList = [...this.cryptoUSDT]\n        .sort((a, b) => { return b.totalMC - a.totalMC })\n        .slice(0, 100)\n      tempList.forEach((i, index) => {\n        i.ranking = index + 1\n      })\n      return tempList\n    },\n    // 正宗binance API 有跨域問題\n    // tempList.forEach((i) => {\n    //   const chg24Url = `api/v3/ticker/24hr?symbol=${i.s}`\n    //   axios.get(chg24Url).then((res) => {\n    //     let percentChange = 0\n    //     percentChange = Number(res.data.priceChangePercent)\n    //     i.percentChange = percentChange.toFixed(2)\n    //   })\n    // })\n    // 前十大市值（放在首頁的）\n    topTenMC () {\n      return this.sortData.slice(0, 10)\n    }\n  },\n  actions: {\n    getData () {\n      status.isLoading = true\n      const allDataUrl = 'https://www.binance.com/exchange-api/v2/public/asset-service/product/get-products'\n      axios.get(allDataUrl).then((res) => {\n        // dataList用來存放所有數據\n        this.dataList = res.data.data\n        status.isLoading = false\n      })\n    }\n  }\n})\n","<template>\n  <ul>\n    <li v-for=\"(i, key) in sortData\" :key=\"key\">1</li>\n  </ul>\n</template>\n\n<script>\nimport cryptoStore from '@/stores/cryptoStore'\nimport { storeToRefs } from 'pinia'\nimport { ref } from 'vue'\nexport default {\n  setup () {\n    const cryptoData = cryptoStore()\n    const { sortData } = storeToRefs(cryptoData)\n    const { getData } = cryptoData\n    cryptoData.getData()\n    const datalist = ref([])\n    setTimeout(() => {\n      datalist.value = [...sortData.value].find((i) => i.b === 'ETH')\n    }, 1000)\n    return {\n      cryptoData, sortData, getData, datalist\n    }\n  }\n}\n\n</script>\n\n<style>\n\n</style>\n","import { render } from \"./Test.vue?vue&type=template&id=1f6b0e60\"\nimport script from \"./Test.vue?vue&type=script&lang=js\"\nexport * from \"./Test.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/lihongliang/Desktop/vue3-cli/vue3_crypto/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["status","statusStore","defineStore","state","dataList","getters","cryptoUSDT","tempList","filter","i","s","slice","forEach","totalMC","cs","c","percentChange","o","toFixed","sortData","this","sort","a","b","index","ranking","topTenMC","actions","getData","isLoading","allDataUrl","axios","then","res","data","_createElementBlock","_Fragment","_renderList","$setup","key","setup","cryptoData","cryptoStore","storeToRefs","datalist","ref","setTimeout","value","find","__exports__","render"],"sourceRoot":""}